(function(t){function e(e){for(var s,_,l=e[0],r=e[1],n=e[2],c=0,h=[];c<l.length;c++)_=l[c],Object.prototype.hasOwnProperty.call(i,_)&&i[_]&&h.push(i[_][0]),i[_]=0;for(s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s]);o&&o(e);while(h.length)h.shift()();return d.push.apply(d,n||[]),a()}function a(){for(var t,e=0;e<d.length;e++){for(var a=d[e],s=!0,l=1;l<a.length;l++){var r=a[l];0!==i[r]&&(s=!1)}s&&(d.splice(e--,1),t=_(_.s=a[0]))}return t}var s={},i={app:0},d=[];function _(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,_),a.l=!0,a.exports}_.m=t,_.c=s,_.d=function(t,e,a){_.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},_.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},_.t=function(t,e){if(1&e&&(t=_(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(_.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)_.d(a,s,function(e){return t[e]}.bind(null,s));return a},_.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return _.d(e,"a",e),e},_.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},_.p="";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],r=l.push.bind(l);l.push=e,l=l.slice();for(var n=0;n<l.length;n++)e(l[n]);var o=r;d.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},2395:function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var s=a("2b0e"),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("div",{attrs:{id:"min_div"}},[a("life-and-death-tencent")],1)])},d=[],_=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"container"}},[t._m(0),t._m(1),a("div",{attrs:{id:"total"}},[a("div",{staticClass:"title"},[t._v("各地区累计治愈/病亡人数（"+t._s(t.date_list[t.select_date_id]?t.date_list[t.select_date_id].month:"")+"月"+t._s(t.date_list[t.select_date_id]?t.date_list[t.select_date_id].day:"")+"日）")]),t._m(2),a("div",{attrs:{id:"total_svg_div"}},[a("svg",{attrs:{id:"total_svg",width:"100%",height:"100%"}},[a("g",{staticClass:"label_line"},t._l(t.total_x_label[t.select_date_id],(function(e,s){return a("path",{key:e+""+s,staticClass:"total_label_line",attrs:{d:s===t.total_x_label[t.select_date_id].length-1?"M"+(t.total_x_begin+(s+.5)*t.total_x_step)+",5v"+.86*t.total_svg_height:"M"+(t.total_x_begin+s*t.total_x_step)+",5v"+.86*t.total_svg_height}})})),0),a("g",{staticClass:"x_label",style:"transform: translate("+t.total_x_begin+"px, "+t.total_svg_height+"px);"},[t._l(t.total_x_label[t.select_date_id],(function(e,s){return a("text",{key:e+""+s,staticClass:"label_text",style:"transform: translate("+(s===t.total_x_label[t.select_date_id].length-1?t.total_x_step*(s+.5):t.total_x_step*s)+"px, -5px)"},[t._v(t._s(t.num2text(e)))])})),a("text",{staticClass:"label_text",style:"transform: translate("+t.total_x_step*(t.total_x_label[t.select_date_id].length-2.5)+"px, -5px);"},[t._v("//")])],2),t._l(t.total_dataset[t.select_date_id],(function(e,s){return a("g",{key:e.title_1,style:"transform: translate(0, "+.28*t.total_svg_height*s+"px);"},[a("text",{staticStyle:{transform:"translate(0, 4vw)"}},[a("tspan",{attrs:{x:"2vw","font-size":"3.2vw","font-weight":"500"}},[t._v(t._s(e.title_1))]),a("tspan",{attrs:{x:"1.3vw",dy:"3vw","font-size":"2.1vw",fill:"#888888"}},[t._v(t._s(e.title_2))])]),a("rect",{staticClass:"diagnosis",attrs:{x:t.total_x_begin,y:"1.3vw",width:t.total_bar_width(e.diagnosis),height:"3vw"}}),a("text",{staticClass:"bar_text",attrs:{y:"3.5vw",x:t.total_x_begin+1}},[t._v(t._s(t.num2text(e.diagnosis)))]),a("rect",{staticClass:"cure",attrs:{x:t.total_x_begin,y:"4.3vw",width:t.total_bar_width(e.cure),height:"3vw"}}),a("text",{staticClass:"bar_text",attrs:{y:"6.6vw",x:t.total_x_begin+1}},[t._v(t._s(t.num2text(e.cure)))]),a("rect",{staticClass:"death",attrs:{x:t.total_x_begin+t.total_bar_width(e.cure),y:"4.3vw",width:t.total_bar_width(e.death),height:"3vw"}}),a("text",{staticClass:"bar_text",style:e.death/t.total_x_label[t.select_date_id][5]<.1?"text-anchor: end;":"",attrs:{y:"6.7vw",x:e.death/t.total_x_label[t.select_date_id][5]>.1?t.total_x_begin+t.total_bar_width(e.cure)+1:t.total_x_begin+t.total_bar_width(e.cure)+t.total_bar_width(e.death)-1}},[t._v(t._s(t.num2text(e.death)))]),a("g",{style:"transform: translate("+(t.total_x_begin+t.total_x_step*(t.total_x_label[t.select_date_id].length-2.8))+"px, 0) scale("+t.total_svg_width/800+")",attrs:{id:"页面1",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"}},[a("g",{attrs:{id:"手机",transform:"translate(-528.000000, -748.000000)",fill:"#FFFFFF"}},[a("g",{attrs:{id:"编组-35",transform:"translate(34.000000, 71.000000)"}},[a("g",{attrs:{id:"编组-36",transform:"translate(0.000000, 585.000000)"}},[a("g",{attrs:{id:"编组-26",transform:"translate(490.000000, 86.000000)"}},[a("g",{attrs:{id:"编组-25",transform:"translate(0.490312, 0.597389)"}},[a("g",{attrs:{id:"编组-24",transform:"translate(28.424015, 26.671522) rotate(23.000000) translate(-28.424015, -26.671522) translate(13.924015, 4.171522)"}},[a("g",{attrs:{id:"编组-22"}},[a("g",{attrs:{id:"编组-21"}},[a("g",{attrs:{id:"编组-20"}},[a("polygon",{attrs:{id:"路径-11",points:"13.9266941 1.26121336e-13 1.11910481e-13 8.64947511 14.1532193 16.1404361 28.3064386 8.64947511"}}),a("polygon",{attrs:{id:"路径-11",points:"13.9266941 7.05592105 -1.17239551e-13 15.7053962 14.1532193 23.1963572 28.3064386 15.7053962"}}),a("polygon",{attrs:{id:"路径-11",points:"13.9266941 21.1677632 -1.17239551e-13 29.8172383 14.1532193 37.3081993 28.3064386 29.8172383"}})]),a("polygon",{attrs:{id:"路径-11",points:"13.9266941 14.1118421 -1.17239551e-13 22.7613172 14.1532193 30.2522782 28.3064386 22.7613172"}})]),a("polygon",{attrs:{id:"路径-11",points:"13.9266941 28.2236842 1.10134124e-13 36.8731593 14.1532193 44.3641203 28.3064386 36.8731593"}})]),a("g",{attrs:{id:"路径-13",transform:"translate(0.000000, 21.167763)"}},[a("polygon",{attrs:{id:"路径-11",points:"13.9266941 1.26121336e-13 -1.17239551e-13 8.64947511 14.1532193 16.1404361 28.3064386 8.64947511"}})])]),a("g",{attrs:{id:"路径-12",transform:"translate(17.226836, 51.766822) rotate(23.000000) translate(-17.226836, -51.766822) translate(2.726836, 43.766822)"}},[a("polygon",{attrs:{id:"路径-11",points:"13.9266941 1.26121336e-13 -1.17239551e-13 8.53714427 14.1532193 15.9308201 28.3064386 8.53714427"}})])]),a("g",{attrs:{id:"路径-12",transform:"translate(19.825299, 46.693229) rotate(23.000000) translate(-19.825299, -46.693229) translate(5.325299, 38.693229)"}},[a("polygon",{attrs:{id:"路径-11",points:"13.9266941 1.26121336e-13 -1.17239551e-13 8.53714427 14.1532193 15.9308201 28.3064386 8.53714427"}})])])])])])])])}))],2)]),a("div",{staticClass:"discription"},[t._v(" *符号“//”一般用于数据差异过大时隔断坐标轴 ")])]),a("div",{staticStyle:{"margin-top":"10vw"},attrs:{id:"add"}},[a("div",{staticClass:"title"},[t._v("全国新增治愈/病亡人数")]),t._m(3),a("div",{staticClass:"life_div"},[a("div",{staticClass:"y_label"},t._l(t.add_y_label,(function(e,s){return a("div",{key:e+"-"+s,style:"margin-bottom: "+(0===s?14.8:4.3)+"vw"},[t._v(t._s(t.num2text(e))+t._s(0===s?"%":""))])})),0),a("div",{staticClass:"life_svg_div"},[a("div",{staticClass:"highlight_svg_div"},[a("svg",{attrs:{width:"100%",height:"100%"}},[a("defs",[a("linearGradient",{attrs:{id:"orange_red",x1:"100%",y1:"0%",x2:"100%",y2:"100%"}},[a("stop",{staticStyle:{"stop-color":"rgb(0, 186, 209)","stop-opacity":"0.05"},attrs:{offset:"0%"}}),a("stop",{staticStyle:{"stop-color":"rgb(0, 186, 209)","stop-opacity":"0.25"},attrs:{offset:"100%"}})],1)],1),a("rect",{attrs:{x:t.hightlight_rect.x,y:t.hightlight_rect.y,width:t.hightlight_rect.width,height:t.hightlight_rect.height,fill:"url(#orange_red)"}})])]),a("div",{staticClass:"life_svg_div_big",style:"height: 100%; width: "+t.dataLens/t.showLens*100+"%"},[a("svg",{staticStyle:{background:"none",overflow:"visible"},attrs:{width:"100%",height:"100%"}},[a("g",{attrs:{id:"horizontal_line"}},t._l(t.add_y_label,(function(e,s){return a("path",{key:"add_y_line"+s,style:"stroke-width: 0.08vw; stroke: #6f6f6f;",attrs:{d:"M0,"+(0===s?.5*t.add_y_step:(s+2)*t.add_y_step)+"h"+t.add_svg_width}})})),0),a("g",{attrs:{id:"line-chart"}},[a("path",{staticStyle:{stroke:"#62c298","stroke-width":"0.2vw",fill:"none"},attrs:{d:t.cure_rect_path,"stroke-dasharray":"0.4vw, 0.4vw"}}),a("path",{staticStyle:{fill:"rgba(121, 192, 155, 0.14)"},attrs:{d:""===t.cure_rect_path?"":t.cure_rect_path+"L"+t.add_x_step*(2*t.country_dataset.length-1)+","+3*t.add_y_step+"H"+t.add_x_step}}),t._l(t.country_dataset,(function(e,s){return a("rect",{key:"line-chart-cure-rect-"+s,staticClass:"cure",attrs:{x:t.add_x_step*(2*s+1-.18),y:.5*t.add_y_step+(t.add_y_label[0]-100*e.cure_rate)/t.add_y_label[0]*t.add_y_step*2.5-.18*t.add_x_step,width:.36*t.add_x_step,height:.36*t.add_x_step}})})),a("path",{staticStyle:{stroke:"#333333","stroke-width":"0.2vw",fill:"none"},attrs:{d:t.death_rect_path,"stroke-dasharray":"0.4vw, 0.4vw"}}),a("path",{staticStyle:{fill:"rgba(51, 51, 51, 0.1)"},attrs:{d:""===t.cure_rect_path?"":t.death_rect_path+"L"+t.add_x_step*(2*t.country_dataset.length-1)+","+3*t.add_y_step+"H"+t.add_x_step}}),t._l(t.country_dataset,(function(e,s){return a("rect",{key:"line-chart-death-rect-"+s,staticClass:"death",attrs:{x:t.add_x_step*(2*s+1-.18),y:.5*t.add_y_step+(t.add_y_label[0]-100*e.death_rate)/t.add_y_label[0]*t.add_y_step*2.5-.18*t.add_x_step,width:.36*t.add_x_step,height:.36*t.add_x_step}})}))],2),a("g",{attrs:{id:"line-char-highlight"}},[a("text",{staticClass:"label_text",attrs:{x:t.add_x_step*(2*t.select_date_id+1),y:t.country_dataset[t.select_date_id]?.5*t.add_y_step+(t.add_y_label[0]-100*t.country_dataset[t.select_date_id].death_rate)/t.add_y_label[0]*t.add_y_step*2.5+.4*t.add_y_step:0}},[t._v(t._s(t.country_dataset[t.select_date_id]?(100*t.country_dataset[t.select_date_id].death_rate).toFixed(1)+"%":""))]),a("text",{staticClass:"label_text",attrs:{x:t.add_x_step*(2*t.select_date_id+1),y:t.country_dataset[t.select_date_id]?.5*t.add_y_step+(t.add_y_label[0]-100*t.country_dataset[t.select_date_id].cure_rate)/t.add_y_label[0]*t.add_y_step*2.5-.2*t.add_y_step:0}},[t._v(t._s(t.country_dataset[t.select_date_id]?(100*t.country_dataset[t.select_date_id].cure_rate).toFixed(1)+"%":""))])]),a("g",{attrs:{id:"bar-chart"}},[a("g",{attrs:{id:"bar-chart-cure"}},[t._l(t.country_dataset,(function(e,s){return a("rect",{key:"bar-rect-cure-"+s,staticClass:"cure",attrs:{width:t.add_x_step,height:e.cure/t.add_y_label[2]*t.add_y_step*2,x:t.add_x_step*(2*s+.5),y:(1-e.cure/t.add_y_label[2])*t.add_y_step*2+4*t.add_y_step}})})),t._l(t.country_dataset,(function(e,s){return a("text",{key:"bar-label-cure-"+s,staticClass:"label_text",attrs:{x:t.add_x_step*(2*s+1),y:(1-e.cure/t.add_y_label[2])*t.add_y_step*2+3.9*t.add_y_step}},[t._v(t._s(t.num2text(e.cure)))])}))],2),a("g",{attrs:{id:"bar-chart-death"}},[t._l(t.country_dataset,(function(e,s){return a("rect",{key:"bar-rect-death-"+s,staticClass:"death",attrs:{width:t.add_x_step,height:e.death/t.add_y_label[7]*t.add_y_step*2,x:t.add_x_step*(2*s+.5),y:7*t.add_y_step}})})),t._l(t.country_dataset,(function(e,s){return a("text",{key:"bar-label-death-"+s,staticClass:"label_text",attrs:{x:t.add_x_step*(2*s+1),y:e.death/t.add_y_label[7]*t.add_y_step*2+7.35*t.add_y_step}},[t._v(t._s(t.num2text(e.death)))])}))],2)]),a("g",{attrs:{id:"x-label"}},t._l(t.date_list,(function(e,s){return a("text",{key:e.month+"-"+e.day,style:"text-anchor: middle; font-size: "+(s===t.select_date_id?4:3)+"vw; transform: translateY("+(s===t.select_date_id?.3:0)+"vw); font-weight: "+(s===t.select_date_id?500:400),attrs:{x:t.add_x_step*(2*s+1),y:6.65*t.add_y_step}},[t._v(t._s(e.month+"/"+e.day))])})),0)])])])]),a("div",{attrs:{id:"slider"}},[a("svg",{attrs:{id:"slider_svg",width:"100%",height:"100%"}},[a("defs",[a("filter",{attrs:{id:"shadow"}},[a("feDropShadow",{attrs:{dx:"0",dy:"0",stdDeviation:"0.9"}})],1)])])]),a("div",{staticClass:"discription",staticStyle:{"margin-left":"3vw"}},[t._v(" *拖动图表查看早期数据，移动滑块选择具体日期，条形图也会随日期变化 ")]),a("div",{staticStyle:{height:"30vw"},attrs:{id:"footer"}})])])},l=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"head"}},[a("div",{attrs:{id:"left_border"}}),a("div",{attrs:{id:"title"}},[t._v("新冠肺炎疫情生死线")]),a("div",{attrs:{id:"description"}},[t._v("(7:00-10:00为更新高峰，数据有滞后请谅解)")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"explanation"}},[a("div",{attrs:{id:"explanation_text"}},[t._v("病亡率为该地区公布的病亡人数在确诊人数中的占比；治愈率为该地区治愈人数在确诊人数中的占比。")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"legend"}},[a("div",{staticClass:"legend_part"},[a("div",{staticClass:"death icon"}),a("div",{staticClass:"legend_text"},[t._v("病亡人数")])]),a("div",{staticClass:"legend_part"},[a("div",{staticClass:"cure icon"}),a("div",{staticClass:"legend_text"},[t._v("治愈人数")])]),a("div",{staticClass:"legend_part"},[a("div",{staticClass:"diagnosis icon"}),a("div",{staticClass:"legend_text"},[t._v("确诊人数")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{"margin-top":"3vw"},attrs:{id:"legend"}},[a("div",{staticClass:"legend_part"},[a("div",{staticClass:"legend_line_cure"}),a("div",{staticClass:"legend_icon_line cure"}),a("div",{staticClass:"legend_text_line"},[t._v("治愈率")])]),a("div",{staticClass:"legend_part"},[a("div",{staticClass:"legend_line_death"}),a("div",{staticClass:"legend_icon_line death"}),a("div",{staticClass:"legend_text_line"},[t._v("病亡率")])]),a("div",{staticClass:"legend_part"},[a("div",{staticClass:"legend_icon cure"}),a("div",{staticClass:"legend_text"},[t._v("治愈人数")])]),a("div",{staticClass:"legend_part"},[a("div",{staticClass:"legend_icon death"}),a("div",{staticClass:"legend_text"},[t._v("病亡人数")])])])}],r=(a("99af"),a("4160"),a("a15b"),a("a434"),a("ac1f"),a("1276"),a("159b"),a("96cf"),a("1da1")),n=a("5698"),o=a("1157"),c=a.n(o),h={name:"left-and-death-tencent",data:function(){return{wuhan_dataset:[],hubei_dataset:[],country_dataset:[],total_dataset:[],date_list:[],select_date_id:0,select_date_id_bar:0,select_date_id_slider:0,total_x_label:[[0,200,400,600,800,1e3,7e3,1e4]],total_x_begin:0,total_x_step:0,total_svg_width:0,total_svg_height:0,test:0,test2:0,dataViewWidth:0,dataLens:20,showLens:10,add_y_label:[],add_svg_width:0,add_svg_height:0,add_y_step:0,add_x_step:0,add_x_end:0,max_scroll_distance:0,gap:0,hightlight_rect:{}}},watch:{select_date_id_slider:function(){if(n["e"](".highlight_svg_div").node()){var t=n["e"](".highlight_svg_div").node().getBoundingClientRect(),e=t.width,a=2.6*this.add_x_step,s=8.5*this.add_y_step,i=e-this.add_x_end-a/2-2*(this.showLens-1-this.select_date_id_slider)*this.add_x_step-1*this.add_x_step,d=.5*this.add_y_step;this.hightlight_rect={x:i,y:d,width:a,height:s}}}},computed:{cure_rect_path:function(){var t=this,e="";return this.country_dataset.forEach((function(a,s){e+=0===s?"M":"L";var i=t.add_x_step*(2*s+1),d=.5*t.add_y_step+(t.add_y_label[0]-100*a.cure_rate)/t.add_y_label[0]*2.5*t.add_y_step;e+="".concat(i,",").concat(d)})),e},death_rect_path:function(){var t=this,e="";return this.country_dataset.forEach((function(a,s){e+=0===s?"M":"L";var i=t.add_x_step*(2*s+1),d=.5*t.add_y_step+(t.add_y_label[0]-100*a.death_rate)/t.add_y_label[0]*2.5*t.add_y_step;e+="".concat(i,",").concat(d)})),e}},methods:{total_bar_width:function(t){var e=this.total_x_label[this.select_date_id];if(t>=e[e.length-2]){var a=t-e[e.length-2],s=e[e.length-1]-e[e.length-2],i=1.5*this.total_x_step,d=a/s*i;return d+this.total_x_step*(e.length-2)}return t/e[e.length-3]*this.total_x_step*(e.length-3)},num2text:function(t){var e="";if(0===t)return"0";var a=0;while(t>0)3==a&&(e+=",",a=0),e+=t%10,t=parseInt(t/10),a++;return e.split("").reverse().join("")},set_total_svg_params:function(){var t=n["e"]("#total_svg_div").node().getBoundingClientRect();this.total_svg_width=t.width,this.total_svg_height=t.height,this.total_x_begin=.12*this.total_svg_width,this.total_x_step=(t.width-this.total_x_begin)/(this.total_x_label[0]?this.total_x_label[0].length:1)},set_add_svg_params:function(){var t=n["e"](".life_svg_div_big").node().getBoundingClientRect();this.add_svg_width=t.width,this.add_svg_height=t.height,this.add_y_step=this.add_svg_height/9.5,this.add_x_step=this.add_svg_width/2/(this.dataLens+.5),this.add_x_end=this.add_svg_width-2*this.dataLens*this.add_x_step},compute_total_x_label:function(t){var e=[];t.forEach((function(t){var a=0,s=0,i=99999999;t.forEach((function(t){t.diagnosis>a&&(a=t.diagnosis),t.diagnosis<i&&(i=t.diagnosis);var e=t.cure+t.death;e>s&&(s=e)})),s=s>500?1e3*Math.ceil(s/1e3):500,i=i>1e3?1e3*Math.floor(i/1e3):500,a=a<1e4?1e3*Math.ceil(a/1e3):1e4*Math.ceil(a/1e4);for(var d=[0],_=1;_<=5;_++)d.push(s/5*_);d.push(i,a),e.push(d)})),this.total_x_label=e},compute_add_y_label:function(){var t=0,e=0,a=0;this.country_dataset.forEach((function(s){t<s.cure_rate&&(t=s.cure_rate),t<s.death_rate&&(t=s.death_rate),e<s.cure&&(e=s.cure),a<s.death&&(a=s.death)})),t=5*Math.ceil(100*t/5),e=400*Math.ceil(e/400),a=400*Math.ceil(a/400),this.add_y_label=[t,0,e,e/2,0,0,a/2,a]},initData_pku:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var a,s,i,d,_,l,r,o,c,h;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a="https://tanshaocong.github.io/2019-nCoV/map.csv",e.next=3,n["a"](a);case 3:s=e.sent,i=10,d=1,_=[],s.forEach((function(t){if("国家级"===t["类别"]){var e=t["公开时间"].split("月")[0],a=t["公开时间"].split("日")[0].split("月")[1];if(e>d||e==d&&a>=i){_.push({cure:t["新增治愈出院数"]?+t["新增治愈出院数"]:0,death:t["新增死亡数"]?+t["新增死亡数"]:0,diagnosis:t["新增确诊病例"]?+t["新增确诊病例"]:0,hejian:t["核减"]?+t["核减"]:0,month:e,day:a});var s=_.length;_[s-1]["total_cure"]=s>1?_[s-2]["total_cure"]:0,_[s-1]["total_cure"]+=_[s-1]["cure"],_[s-1]["total_death"]=s>1?_[s-2]["total_death"]:0,_[s-1]["total_death"]+=_[s-1]["death"],_[s-1]["total_diagnosis"]=s>1?_[s-2]["total_diagnosis"]:0,_[s-1]["total_diagnosis"]+=_[s-1]["diagnosis"]+_[s-1]["hejian"],_[s-1]["cure_rate"]=_[s-1]["total_cure"]/_[s-1]["total_diagnosis"],_[s-1]["death_rate"]=_[s-1]["total_death"]/_[s-1]["total_diagnosis"]}}})),l=[],s.forEach((function(t){if("省级"===t["类别"]&&"湖北"===t["省份"]){var e=t["公开时间"].split("月")[0],a=t["公开时间"].split("日")[0].split("月")[1];if(e>d||e==d&&a>=i){l.push({cure:t["新增治愈出院数"]?+t["新增治愈出院数"]:0,death:t["新增死亡数"]?+t["新增死亡数"]:0,diagnosis:t["新增确诊病例"]?+t["新增确诊病例"]:0,hejian:t["核减"]?+t["核减"]:0,month:e,day:a});var s=l.length;l[s-1]["total_cure"]=s>1?l[s-2]["total_cure"]:0,l[s-1]["total_cure"]+=l[s-1]["cure"],l[s-1]["total_death"]=s>1?l[s-2]["total_death"]:0,l[s-1]["total_death"]+=l[s-1]["death"],l[s-1]["total_diagnosis"]=s>1?l[s-2]["total_diagnosis"]:0,l[s-1]["total_diagnosis"]+=l[s-1]["diagnosis"]+l[s-1]["hejian"]}}})),r=[],s.forEach((function(t){if("地区级"===t["类别"]&&"湖北"===t["省份"]&&"武汉"===t["城市"]){var e=t["公开时间"].split("月")[0],a=t["公开时间"].split("日")[0].split("月")[1];if(e>d||e==d&&a>=i){r.push({cure:t["新增治愈出院数"]?+t["新增治愈出院数"]:0,death:t["新增死亡数"]?+t["新增死亡数"]:0,diagnosis:t["新增确诊病例"]?+t["新增确诊病例"]:0,hejian:t["核减"]?+t["核减"]:0,month:e,day:a});var s=r.length;r[s-1]["total_cure"]=s>1?r[s-2]["total_cure"]:0,r[s-1]["total_cure"]+=r[s-1]["cure"],r[s-1]["total_death"]=s>1?r[s-2]["total_death"]:0,r[s-1]["total_death"]+=r[s-1]["death"],r[s-1]["total_diagnosis"]=s>1?r[s-2]["total_diagnosis"]:0,r[s-1]["total_diagnosis"]+=r[s-1]["diagnosis"]+r[s-1]["hejian"]}}})),o=t.dataLens,t.wuhan_dataset=r.splice(r.length-o,o),t.hubei_dataset=l.splice(l.length-o,o),t.country_dataset=_.splice(_.length-o,o),c=[],t.country_dataset.forEach((function(e,a){var s=t.wuhan_dataset[a],i=t.hubei_dataset[a],d={title_1:"武汉",title_2:"",death:s["total_death"],cure:s["total_cure"],diagnosis:s["total_diagnosis"]},_={title_1:"湖北",title_2:"(除武汉)",death:i["total_death"]-s["total_death"],cure:i["total_cure"]-s["total_cure"],diagnosis:i["total_diagnosis"]-s["total_diagnosis"]},l={title_1:"全国",title_2:"(除湖北)",death:e["total_death"]-i["total_death"],cure:e["total_cure"]-i["total_cure"],diagnosis:e["total_diagnosis"]-i["total_diagnosis"]};c.push([d,_,l])})),t.total_dataset=c,t.compute_total_x_label(c),t.compute_add_y_label(),h=[],t.country_dataset.forEach((function(t){h.push({month:t.month,day:t.day})})),t.date_list=h,t.select_date_id=h.length-1,t.set_total_svg_params(),t.set_add_svg_params(),t.set_slider();case 28:case"end":return e.stop()}}),e)})))()},set_slider:function(){var t=this,e=n["e"]("#slider").node().getBoundingClientRect().width,a=30,s={left:10,right:10,top:10,bottom:10},i=function(i,d){var _=n["e"]("#".concat(i)),l=_.append("g").attr("transform","translate(".concat(s.left,", ").concat(s.top,")")),r=e-s.left-s.right,o=a-s.top-s.bottom,c=r/d,h=15,u=n["d"]().range([0,r-c/2]).domain([0,d-1]),g=l.append("g");g.append("line").attr("x2",r).attr("y1",o/2).attr("y2",o/2).classed("slider-container",!0);var p=g.append("rect").attr("x",c*d-c).attr("y",o/2-h/2).attr("width",c).attr("height",h).attr("rx",3).attr("ry",3).classed("slider-rect",!0);p.call(n["b"]().on("drag",(function(){var e=Math.min(Math.max(0,n["c"].x),r-c/2),a=n["e"](this);a.attr("x",e);var s=Math.round(u.invert(e)),i=s*c;a.attr("x",i),t.select_date_id_slider=s,t.select_date_id=t.select_date_id_slider+t.select_date_id_bar})).on("end",(function(){})))};this.select_date_id_slider=this.showLens-1;var d="slider_svg";i(d,this.showLens),this.select_date_id_bar=this.dataLens-this.showLens}},mounted:function(){this.initData_pku();var t=this,e=null;c()(".life_svg_div").scroll((function(){var a=this;clearTimeout(e),t.test=this.scrollLeft;var s=this.scrollLeft;t.max_scroll_distance=-t.dataViewWidth+t.add_svg_width,t.gap=t.max_scroll_distance-s;var i=Math.round(t.gap/(2*t.add_x_step));t.select_date_id_bar=t.dataLens-t.showLens-i,t.select_date_id=t.select_date_id_bar+t.select_date_id_slider,e=setTimeout((function(e){if(e===t.test){t.max_scroll_distance=-t.dataViewWidth+t.add_svg_width,t.gap=t.max_scroll_distance-e;var s=Math.round(t.gap/(2*t.add_x_step)),i=t.max_scroll_distance-s*(2*t.add_x_step);a.scrollLeft=i}}),100,s)})),this.dataViewWidth=n["e"](".life_svg_div").node().getBoundingClientRect().width}},u=h,g=(a("8a7c"),a("2877")),p=Object(g["a"])(u,_,l,!1,null,null,null),v=p.exports,f={name:"app",components:{LifeAndDeathTencent:v},mounted:function(){}},y=f,x=(a("7c55"),Object(g["a"])(y,i,d,!1,null,null,null)),b=x.exports;s["a"].config.productionTip=!1,new s["a"]({render:function(t){return t(b)}}).$mount("#app")},"7c55":function(t,e,a){"use strict";var s=a("2395"),i=a.n(s);i.a},"8a7c":function(t,e,a){"use strict";var s=a("dfd9"),i=a.n(s);i.a},dfd9:function(t,e,a){}});
//# sourceMappingURL=app.693e4920.js.map